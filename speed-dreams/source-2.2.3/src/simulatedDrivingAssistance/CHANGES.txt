
Changes to Speed Dreams

This file states the changes that are done by us in Speed Dreams.
If something is changed in Speed Dreams, you need to state:
• what files have been changed;
• which functions have been altered, deleted and/or added;
• which variables have been added, removed and/or changed (e.g. changed from local to global);
• which libraries and/or other software have been added to specific files or the whole project.

It is ordered by: if a file is added or changed, then if the file is in src or data.


Added:
  src/
    drivers/assistedhuman/
        assistedhuman.cpp
        CmakeList.txt
        Driver.cpp
        Driver.h
    libs/tgfclient/
            GuiRadioButton.cpp
            GuiRadioButtonList.cpp
    modules/userinterface/legacymenu/mainscreens/
        ResearcherMenu.h
        ResearcherMenu.cpp
        DataSelectionMenu.h
        DataSelectionMenu.cpp
        DeveloperMenu.h
        DeveloperMenu.cpp
  data/
    data/
        config/
            raceman/
                replay.xml
        img/
            radio-checked.png
            radio-checked-focused.png
            radio-unchecked.png
            radio-unchecked-focused.png
            checked-focused.png
            unchecked-focused.png
        indicators/
            *
        menu/
            ResearcherMenu.xml
            DataSelectionMenu.xml
            DeveloperMenu.xml
    drivers/
        assistedhuman/
            *

Changed:
  src/
    libs/
        robottools/
            humandriver.h
                included Recorder.h
                added m_recorder
                added SetRecorder
            rthumandriver.cpp
                changed new_race()
                changed drive_at()
                changed shutdown()
                changed common_drive(): added check for input of intervention toggle on/off
                added   SetRecorder()
                added   m_prevIntervention member
                added   NO_KEYBOARD define: clarify magic number
            CMakeLists.txt
                changed frontend added to ADD_SDLIB_INCLUDEDIR
                changed backend added to ADD_SDLIB_INCLUDEDIR
                changed frontend added to ADD_SDLIB_LIBRARY
                changed backend added to ADD_SDLIB_LIBRARY
        tgf/
            params.cpp
                Modified xmlGetOuputLine to write floats with full precision.
            tgf.h
                added GF_LOGGING_ENABLE and GF_LOGGING_DISABLE macro's for clearer code
        tgfclient/
            gui.h
                added   tGfuiRadioButtonList
                added   tGfuiRadioButton
                added   GfuiDrawRadioButtonList()
                added   GfuiDrawRadioButton()
                added   GfuiReleaseRadioButtonList()
                added   GfuiReleaseRadioButton()
                changed GfuiObject
            guicheckbox.cpp
                changed GfuiCheckboxCreate: added focused images
            guimenu.cpp
                added   GfuiMenuCreateRadioButtonListControl
                added   GfuiMenuBoolToStr()
                changed GfuiMenuControlGetBoolean(): made public and renamed to fit the api function naming scheme.
            guimenu.h
                added   GFMNU_TYPE_RADIO_BUTTON_LIST
                added   GFMNU_ATTR_SELECTED, GFMNU_ATTR_DISTANCE, GFMNU_ATTR_MINIMUM_OF_ONE, GFMNU_ATTR_OPTIONS
            guiobject.cpp
                changed GfuiDraw()
                changed GfuiReleaseObject()
                changed gfuiSelectNext(): it now skips over labels
                changed gfuiSelectPrev(): it now skips over labels
                added   GfuiDrawString() overloaded to support different parameters.
            tgfclient.h
                added   GFUI_RADIOBUTTON and GFUI_RADIOBUTTONLIST
                added   tRadioButtonInfo
                added   tRadioButtonListInfo
                added   tfuiRadioButtonCallback
                added   GfuiMenuCreateRadioButtonListControl()

                added   GfuiMenuBoolToStr()
                added   GfuiMenuControlGetBoolean()
                
                added   GfuiRadioButtonListCreate()
                added   GfuiRadioButtonListSetSelected()
                added   GfuiRadioButtonListGetSelected()
                added   GfuiRadioButtonListSetText()
                added   GfuiRadioButtonListSetTextColor()

                added   GfuiRadioButtonCreate()
                added   GfuiRadioButtonSelect()
                added   GfuiRadioButtonSetText()
                added   GfuiRadioButtonSetTextColor()
                added   GfuiRadioButtonIsSelected()

                added   GfuiDrawString(): overload
                added   GfuiFontClass: expose to API
    main/
        main.cpp
            added singletonfolder setup
            added mediator shut down
            added replay command line option
            added HasValidRaceStartArguments()

            changed check to call custom HasValidRaceStartArguments method
    interfaces/
        playerpref.h
            added   HM_ADRV_FILE define
            added   HM_ATT_INTERV_TGGLE define
            added   CMD_INTERV_TGGLE define
            changed CMD_END_OF_LIST to match the new amount of cmds.
        sound.h
            added intervention sound volume xml parameter 
    modules/
        racing/standardgame
            raceinit.cpp
                changed reLoadSingleCar() to fix isHuman flag
                changed ReInitCars() to fix isHuman flag
                changed ReCleanup() to also shut down updaters
            racesituation.cpp
                change deltaTime to be constant value
            racetrack.cpp
                changed ReTrackInit() to load track from Mediator

        sound/snddefault/
            CMakeLists.txt
                added frontend
                added backend
            grsound.cpp
                added intervention sound initialization
                added intervention sound volume setting
            OpenalSound.cpp
                changed start(): track when the sound was started
                changed resume(): added check if sound is actually paused
                changed pause(): added check if sound is playing
                changed update(): added check for playing state
            OpenalSoundInterface.h
                added UpdateInterventionSounds()
            OpenalSoundInterface.cpp
                added UpdateInterventionSounds()
                changed update(): added update and starting of intervention sounds
            Sound.h
                added LastStart
                added GetLastStart()
            Sound.cpp
                added GetLastStart()
            SoundInterface.cpp
                included "IndicatorConfig.h"
                added LoadIndicatorSounds()
                added SetInterventionVolume()
                added GetInterventionVolume()
                added Clamp() helper function
                changed SoundInterface(): added InterventionVolume member init
            SoundInterface.h
                added LoadIndicatorSounds()
                added m_indicatorSounds vector
                added SetInterventionVolume()
                added GetInterventionVolume()
                added InterventionVolume member
                added Clamp() helper function
        userinterface/
            legacymenu/
                racescreens/
                    raceconfigstate.cpp
                        included "racemanagers.h"
                        changed RmConfigRunState(): assign ts.setTrack and ts.getTrack instead of removed ts.pRace
                CMakeList.txt
                  added    ResearcherMenu.h and .cpp
                  added    DataSelectionMenu.h and .cpp
                  added    backend in both ADD_SDLIB_LIBRARY and ADD_SDLIB_INCLUDEDIR
                legacymenu.h
                    ActivateResearcherMenu()
                legacymenu.cpp
                    included "ResearcherMenu.h"
                    included "DataSelectionMenu.h"
                    added    ActivateResearcherMenu()
                    changed  backLoad()
                    changed  activate()
                    removed player, graph, opengl, advanced graph, simu, ai, hostsettings configs
            mainscreens/
                mainmenu.cpp
                    included "DataSelectionMenu.h"
                    removed  <playerconfig.h>
                    added    GoBack()
                    changed  MainMenuInit()
                    changed  onplayerconfigMenuActivate(): renamed it to onControlMenuActivate()
                    changed  MainMenuInit()
                optionsmenu.cpp
                    removed graphics, advanced graphics, opengl, simulation, ai opponents menu
            racescreens/
                racestopmenu.cpp
                    RmStopRaceMenu()
                    changed  AssistedHuman is a human
                    removed rmProgressiveTimeModifier.start() call
                    removed controls menu
                racerunningmenus.cpp
                    removed RmProgressiveTimeModifier implementation and calls
                racemanmenu.cpp
                    included <controlconfig.h> and "mainmenu.h"
                    removed <playerconfig.h>, <csnetwork.h> and <network.h>
                    removed networking and go back to main menu
                    changed rmOnRaceDataChanged()
                    changed rmOnPlayerConfig(): renamed it to rmOnControlConfig()
                    added   BackToMainMenu()
                    changed rmRaceManMenu()
                racescreens.h
                    removed networking
                    included "race.h"
                    changed RmTrackSelect: replaced GfRace pointer with function pointers to set and get track
                raceselectmenu.cpp
                    changed rmOnActivate()
                    changed rmOnRaceSelectShutdown()
                    changed rmOnSelectRaceMan()
                    changed RmRaceSelectInit()
                trackselect.cpp
                    changed rmtsSelect(): replaced usage of race manager with setTrack function
                    changed RmTrackSelect(): replaced usage of race manager with getTrack function
                removed csnetclientsettings.cpp, csnetserversettings.cpp, csnetworkingmenu.cpp, networking.cpp, csnetwork.h
            confscreens/
                soundconfig.cpp
                    added ChangeInterventionVolume()
                    added logic to create new controls for intervention volume and store their data
                    changed readSoundCfg()
                controlconfig.cpp
                    added cmd info for intervention toggle on/off to the Cmd[] member variable.
                    included <deque>
                    added static void *PlayerHdle = NULL; from removed playerconfig.cpp
                    added SkillLevelString from removed playerconfig.cpp
                    added NbSkillLevels from removed playerconfig.cpp
                    added NoPlayer from removed playerconfig.cpp
                    added HumanDriverModuleName from removed playerconfig.cpp
                    added DefaultCarName from removed playerconfig.cpp
                    added tInfo from removed playerconfig.cpp
                    added tPlayerInfo from removed playerconfig.cpp
                    added tPlayerInfoList from removed playerconfig.cpp
                    added currPlayer from removed playerconfig.cpp
                    added Yn[] from removed playerconfig.cpp
                    added GenPlayerList() from removed playerconfig.cpp
                    removed parameters in init
                removed .h and .cpp files: player, graph, opengl, advanced, simu, ai, hostsettings config
            textonly/
                CMakeLists.txt
                    added backend
                textonly.cpp
                    added includes
                    added LoadReplayConfiguration
                    changed TextOnlyUI::activate()
        graphic/
            ssggraph/
                CMakeLists.txt added connection to frontend module
                grboard.cpp
                    included "Mediator.h"
                    included "IndicatorConfig.h"

                    added   m_textures array

                    added   DispIndicators()
                    added   DispIndicatorIcon();
                    added   DispIndicatorText();
                    added   LoadIndicatorTextures()

                    changed cGrBoard(): removed assignments of removed members
                    changed ~cGrBoard(): removed deletes of removed members
                    changed grInitBoardCar(): added loading of indicator textures
                    changed refreshBoard(): removed deleted ui elements
                    changed selectBoard(): removed cases for removed elements
                    changed loadDefaults(): removed loads of parameters for removed elements
                    changed grDispCounterBoard2(): removed gauges

                    removed grDispGGraph()
                    removed grDispEngineLeds()
                    removed grDispCarBoard()
                    removed grDispCarBoard1()
                    removed grDispCarBoard2()
                    removed grDispIndicators()
                    removed grDispLeaderBoard()
                    removed grDispLeaderBoardScroll()
                    removed grDispLeaderBoardScrollLine()
                    removed grDispDashboard()
                    removed grDispArcade()
                    removed grGenerateLeaderBoardEntry()
                    removed trackMap member
                    removed grGetSplitTime()
                    removed grGetLapsTime()
                    removed grSetupDrawingArea()
                    removed getTrackMap()
                    removed grShutdownBoardCar()

                    remove all Dashboard and Leaderboard constants
                    removed constants tracking the number of states of removed elements

                grboard.h
                    included <plib/ssg.h>
                    included "IndicatorData.h"

                    added   DispIndicators()
                    added   DispIndicatorIcon();
                    added   DispIndicatorText();
                    added   LoadIndicatorTextures()

                    removed grDispGGraph()
                    removed grDispEngineLeds()
                    removed grDispCarBoard()
                    removed grDispCarBoard1()
                    removed grDispCarBoard2()
                    removed grDispIndicators()
                    removed grDispLeaderBoard()
                    removed grDispLeaderBoardScroll()
                    removed grDispLeaderBoardScrollLine()
                    removed grDispDashboard()
                    removed grDispArcade()
                    removed grGenerateLeaderBoardEntry()
                    removed grGetSplitTime()
                    removed grGetLapsTime()
                    removed grSetupDrawingArea()
                    removed getTrackMap()
                    removed grShutdownBoardCar()

                    removed boardFlag
                    removed leaderFlag
                    removed leaderNb
                    removed GFlag
                    removed counterFlag
                    removed dashboardFlag
                    removed arcadeFlag
                    removed iStart
                    removed iTimer
                    removed iStringStart
                    removed st 

                    removed trackMap

                    removed *ok_color_;
                    removed *error_color_;
                    removed *inactive_color_;
                    removed *ahead_color_;
                    removed *behind_color_;
                    removed *arcade_color_;

                grmain.cpp
                    changed initView(): removed keybinds for removed hud elements
                    changed shutdownCars(): removed unused shutdown board
                    removed grSelectTrackMap()

                grscreen.cpp
                    removed selectTrackMap()

                grscreen.h
                    removed selectTrackMap()


  data/
      config/raceman
        CMakeLists.txt
        quickrace.xml
            changed standard track
        removed practice.xml
        removed singleevent-challange.xml
        removed singleeven-endurance.xml
      data/
        credits.xml
            added Simulated driving assistance developers
        menu/
            mainmenu.xml
                added a back button
                renamed race button
                removed weekend
                removed player
            soundconfigmenu.xml
                added controls for intervention sound volume
            stopracemenu.xml
                removed controls menu
            optionsmenu.xml
                removed unused menus
            creditsmenu.xml
                added new section
            removed playerconfig.xml
            raceselectmenu.xml
                removed practice and optimizationMT buttons
            soundconfig.xml
                removed sound system option
            stopracemenu.xml
                removed controls and force feedback buttons
            racemanmenu.xml
                changed player button to control button
            trackselectmenu.xml
                changed text on Next and Back buttons
                changed all instances of the word track to environment
        
  cmake/
    checks.cmake
        changed IF(OPTION_3RDPARTY_SQLITE3) (removed if)